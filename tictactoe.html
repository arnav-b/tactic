<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>TicTacToe</title>

        <style>
            body {
                margin: 0;
                overflow: hidden;
            }
        </style>
        <script type="module" src="game/square.js"></script>
        <script type="module" src="game/localgame.js"></script>
        <script type="module" src="game/globalgame.js"></script>
        <script type="module" src="game/main.js" defer></script>
        <script type="module" src="menu.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div id="modal">
            <div class="modalcontent">
                <p class="popupHead">About</p>
                <p>This implmentation of Ultimate tic-tac-toe was created by three freshmen at Rice University studying computer science. We began this project as an attempt to better our understanding of various game-playing algorithms and we will continue updating it as we learn more in the realm of artificial intelligence. If you would like to get a little insight into how we did this or if you would like to report a bug, please visit our GitHub repository <a href="https://github.com/arnav-b/tactic" target="_blank" rel="noreferrer noopener">here</a>.</p>
                <p class="popupHead">Rules</p>
                <p>Each small 3 × 3 tic-tac-toe board is referred to as a local board, and the larger 3 × 3 board is referred to as the global board.</p>
                <p>The game starts with X playing wherever they want in any of the 81 empty spots. This move "sends" their opponent to its relative location. For example, if X played in the top right square of their local board, then O needs to play next in the local board at the top right of the global board. O can then play in any one of the nine available spots in that local board, each move sending X to a different local board. </p>
                <img src="rules.png" width="175" height="175">
                <p>If a move is played so that it is to win a local board by the rules of normal tic-tac-toe, then the entire local board is marked as a victory for the player in the global board.</p>
                <p>Once a local board is won by a player or it is filled completely, no more moves may be played in that board. If a player is sent to such a board, then that player may play in any other board.</p>
                <p>Gameplay ends when either a player wins the global board or there are no legal moves remaining, in which case the game is a draw.</p>
                <button class="popupButton" id="popupClose">Close</button>
            </div>
          </div>

        <header>
            <h1>TACTIC: An Ultimate Tic-Tac-Toe Player</h1>
        </header>

        <main>
            <form>
              <div>
                <div class="box">
                  <label>Player 1</label>
                  <select name="player1" id="p1" onchange="toggleOptions1()">
                    <option value="human">Human</option>
                    <option value="alg1">Algorithm 1</option>
                    <option value="alg2">Algorithm 2</option>
                  </select>
                </div>
                <div class="box">
                  <label>Difficulty 1</label>
                  <select name="difficulty1" id="diff1">
                    <option id="nodiff1" value="nodiff">N/A</option>
                    <option id="easy1" value="easy" disabled>Easy</option>
                    <option id="medium1" value="medium" disabled>Medium</option>
                    <option id="hard1" value="hard" disabled>Hard</option>
                  </select>
                </div>
                <div class="box">
                  <label>Player 2</label>
                  <select name="player2" id="p2" onchange="toggleOptions2()">
                    <option value="human">Human</option>
                    <option value="alg1">Algorithm 1</option>
                    <option value="alg2">Algorithm 2</option>
                  </select>
                </div>
                <div class="box">
                  <label>Difficulty 2</label>
                  <select name="difficulty2" id="diff2">
                    <option id="nodiff2" value="unlimited">N/A</option>
                    <option id="easy2" value="easy" disabled>Easy</option>
                    <option id="medium2" value="medium" disabled>Medium</option>
                    <option id="hard2" value="hard" disabled>Hard</option>
                  </select>
                </div>
                <div class="box">
                  <label class="newgamebutton">Play</label>
                  <button type="button" id="newgame">New Game</button>
                </div>
              </div>
            </form>
            <canvas class="ultimateBoard">
                <p>Canvas is not supported in your browser.</p>
            </canvas>
            <p class="winmessage box" id="winmsg">Game over; It's a tie!</p>
        </main>

    </body>
    
    <script>
        window.onload = function () {
            document.getElementById('popupClose').onclick = function () {
              document.getElementById('modal').style.display = "none"
            };
        };
    </script>
</html>
